# CloudGoat (â˜ï¸ğŸ)
[![Rhino](https://img.shields.io/badge/rhino-vulnerable%20%7C%20tool-red?logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAAxCAQAAAA7SZLuAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAHdElNRQfjCAkMIR33/0eZAAAGdUlEQVRYw+XXa5DWZRkG8GuXBVyE5bSAIowgHtY0E0wzMzE1ZyQVzTIdNTXLQ05OnlKTodDQxulgM5HpWAMxGurIIJhnUhI0DyAlphECogIZCAvL7rLL7q8P+y7uuu/CwuSn7vfb+3+e57qv+7kP15N8wib6GiBJUrr9r4hPBm//XJ6yNmeLHqoM6BrgrrgmxlrpC6KVWZKGlOaGnJeKnR0j6Z/T07PLzCqzby5og1TwdrQXPeVk3YvDiSgz2oNe0LfLMbgOy+yrw4cjvaXanYa18hNRqpdKoxzrMjOsxeLWS98pWImpaDBeET9O8h4WOFqUOdA5JvujZ71utXpN3jRFtfn27CLYQIvU4UeKfIyL1eAtF7nLu7ZpsQbveNh37O1KTFeq+OFR9tGti2NVm2WD+5SWtV9cEsl9OTxX5aDck+5pzvosz9IszYpUpzxLMzzXJnk1zZ2Q6Z+xmZOmFqgkJ6Yks3JE9soeZUWWN+SJfDu9UpO5mZMVGZiqHJJTsjUPZXl+mZFZl/lJSRFeSU7MBXkydduhv5I383IaUlEkf8UgT+NJx+ntbPNs0ehV1xthmMfBLHt0EsSB5lnUkqkiTlNvosH+ZbHKYjG/WqN7DTTEXWptM885Bohh5oBaZxWrRRE3YKF+BbAeHrDeaHtZYZGBxXgtNFM/VZ7GBje39BVDzCqkyiN6dwJ1ovdt8ZxehR4zVrUZuhllrRdUdNwyzmuqfNrL2OgS3USUu6cA9b5jOvIScbDFlnjK/UpF9HS/OuPEkWo8pmfHLRN8zwivoNmtBag4Xx3Y5NJOoPb1jGoXmeuHhT2n2mKWXmI8ft+xqLu73t6GeRHLjCjEvre5BV6TdSsKtZ8n1LvOUZY7Xst1zFPtJBHXY2JHsB6qlIhDPW6DiwsBqbJmO9jHeIkYY746E/Vwq5f0FyUmYooyUeo+nFusXbX++rvUTJfrK0ZbXwB7xWAfj8XZltnoat2N8GYhiCdb7+9GFVJriY3G7KC9iagwxr5iH1eZBraZ0DoTROxvihpLnaWb+LG3HSgOsMhG47XmaJ3XDNxpLy0sLxEj/Q1s9muf1UtPB7vZ2+rNcEhhQL1jkhhstgY3FK4gbse9Sro0bEXsoaev2lgI5npzPeZ9jZ5zdqGqenvIa4YZYLpGv1BeSK7BFuH8Lk72wlFf83WTCwXQajW+vJ371f7jDEM9YKtf6bO9YX1Do5VGdVnfiBjqWTNMtakd3MMqRYy32m1OsMAWt7TOOtHLbPyhY8HsDO5GLPBTL2vcDtbkEWOdZ5U3TLPOKhe2S6BxNqt3xi4qN3G6Rix0pnP9qU1AN6tFoyZzjG43OPt4FPP130WRKMZp0GSzpc7Qxzct1d42OVbb9XGhetuKNbidg52kwRLHmGKd3/i8L/m5lyy3yipbwR3K2oTwAK/jBYOKqY9+zuy89MQoK6zxA7dZhxo/Uaav4UYa4U7NqHZZSyqIPU1DrXOK8BLjrHHkDhRjd5dZpkmdtf7qFsPbyL29PQuqTTJEdDdBA6a21FvHwyaodcwOwCoc4hSnOU6Vvm07gojDLS40tIXucLdNWGj/4rzit3SQkl2/0TjC85rbJMzbjiuaGiKm4qbdfctoaU3XeL5QFEta5lpbayv365J8MeW7B5VkUI7Oe7kyM5O8myvy3MflXlvduDbJ5zImCxTRhDu1kvTLPjk3FdmQ5vwsz3dUlqWtK5MsTXMG5Ird4xYZmaMzPR/m+LybOdmRw+JQa1Hr8i7Onva7y8zECpNs8Y/287xdGCVJ74xIbZLy3JItuV/TLoZSGvOXVOczWZuyTmkV3mWz1WxP2o0mG7oreSniAlMdYJZ/W6JSp8tOtRLNGm21VSOaLHajI/RrUY5dgqtwrX3MpkUTd7QSyadyW5ryRlZmfRqSVOSSnJBukQ1ZkeVZnfXZksZsi5Ql6ZbSJNvSkE1ZnWVZk+aSFocG5qDMzJDcle8WTRDR36CP/BdR6fteVWvnVuefbrdXQRz0Mh21Ti8ejaIXKUkqMyZHpSpD0zc9UxJpzNbUZlM+yIepTWn6Z2QOy/CUZmquSH265Zrcmp55MN/Kll1OL1GqXD+VBhlkgD7KWx+xhTmwn5t8YJ3D9HCNTfhz0eb7v7DCo2OdSaapV+PujwbPJwNX7lHUe8ppeu4IqKzLp3ZudZmX5Hd5JpuzO111F7n1a1HF/7/2X2NRZh03N5mKAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTA4LTA5VDEyOjMzOjI5LTA0OjAwAcixjwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0wOC0wOVQxMjozMzoyOS0wNDowMHCVCTMAAAAASUVORK5CYII=)](https://rhinosecuritylabs.com) [![PyPI](https://img.shields.io/badge/python-3.6+-blue.svg)](https://github.com/RhinoSecurityLabs/cloudgoat) [![GitHub license](https://img.shields.io/badge/license-BSD-brightgreen.svg)](https://github.com/RhinoSecurityLabs/cloudgoat/blob/master/LICENSE) [![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg)](https://github.com/RhinoSecurityLabs/cloudgoat/pulls)

_* ã“ã®æ—¥æœ¬èªç¿»è¨³ç‰ˆã¯ã‚·ãƒŠãƒªã‚ªç¢ºèªç­‰ã®å‚è€ƒç”¨ã¨ã—ã¦ãŠä½¿ã„ãã ã•ã„ã€‚å®Ÿéš›ã®ä½¿ç”¨æ™‚ã«ã¯ã€ã‚ªãƒªã‚¸ãƒŠãƒ«ãƒ¬ãƒã‚¸ãƒˆãƒªã®scenarioã‚’å…ƒã«ã™ã™ã‚ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚ *_

_CloudGoatã¯Rhino Security LabsãŒæä¾›ã™ã‚‹"æ„å›³çš„ã«è„†å¼±ãª"AWSç’°å¢ƒä½œæˆãƒ„ãƒ¼ãƒ«ã§ã™ã€‚_

<p align="center">
  <img src="https://rhinosecuritylabs.com/wp-content/uploads/2018/07/cloudgoat-e1533043938802-1140x400.jpg" width=350/>
</p>


# ã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹
- **Where to get help**:
[the CloudGoat Community Slack](https://join.slack.com/t/pacu-cloudgoat/shared_invite/enQtNDE3OTk0MjA3NTA2LTRmOTVmZjEyYjIzOTYxMGJmZDc4ZDVkOGU3ZmJlOWZhNzdkYWQ2ZmQxNTFjZThjMmJlMDFmMTU4NzUwMDM2NmY), or [Stack Overflow](https://stackoverflow.com/search?tab=newest&q=cloudgoat)

- **Where to file issues**:
[https://github.com/RhinoSecurityLabs/cloudgoat/issues](https://github.com/RhinoSecurityLabs/cloudgoat/issues)

- **Maintained by**:
[the CloudGoat Community](https://github.com/RhinoSecurityLabs/cloudgoat)

# CloudGoat 2.0 is here!

CloudGoatã¯Rhino Security LabsãŒæä¾›ã™ã‚‹"æ„å›³çš„ã«è„†å¼±ãª"AWSç’°å¢ƒä½œæˆãƒ„ãƒ¼ãƒ«ã§ã™ã€‚"ã‚­ãƒ£ãƒ—ãƒãƒ£ãƒ¼ãƒ»ã‚¶ãƒ»ãƒ•ãƒ©ãƒƒã‚°"å½¢å¼ã§ã„ãã¤ã‹ã®ã‚·ãƒŠãƒªã‚ªã‚’å…ƒã«å•é¡Œã‚’è§£ã„ã¦ã„ãã€ã‚¯ãƒ©ã‚¦ãƒ‰ä¸Šã§ã®ã‚µã‚¤ãƒãƒ¼ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ«ã‚’ç£¨ãã¾ã—ã‚‡ã†ã€‚å„ã‚·ãƒŠãƒªã‚ªã¯å­¦ç¿’ã‚’åŠ¹ç‡çš„ã«é€²ã‚ã‚‹ã‚ˆã†ã«AWSãƒªã‚½ãƒ¼ã‚¹ãŒé…ç½®ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚ç°¡å˜ãªã‚‚ã®ã‚„é›£ã—ã„ã‚‚ã®ã€ãã—ã¦å¤šãã®å•é¡Œã«ã¯è¤‡æ•°ã®è§£ãæ–¹ãŒã‚ã‚Šã¾ã™ã€‚ã‚¢ã‚¿ãƒƒã‚«ãƒ¼ã¨ã—ã¦ã®ã‚ãªãŸã®ç›®çš„ã¯ã€ç’°å¢ƒã‚’æ¢ã‚Šã€è„†å¼±æ€§ã‚’è¦‹ã¤ã‘ã€å„ã‚·ãƒŠãƒªã‚ªã®ã‚´ãƒ¼ãƒ«ã¾ã§ã®é“ã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ã§ã™ã€‚

CloudGoatã®ä¸»ãªç›®çš„ã¯æ¬¡ã®é€šã‚Šã§ã™:

* **çš„ã‚’çµã‚Šã€æ•´ç†ã•ã‚ŒãŸé«˜å“è³ªãªå­¦ç¿’çµŒé¨“** - CloudGoatã®ãã‚Œãã‚Œã®ã‚·ãƒŠãƒªã‚ªã¯ã€æ¢æ¤œã‚„è©¦è¡Œã®æ©Ÿä¼šã¨ã€ã‚¯ãƒ©ã‚¦ãƒ‰ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ«ã‚’å‘ä¸Šã•ã›ã‚‹ãƒãƒ³ã‚ºã‚ªãƒ³ã‚’æä¾›ã—ã¾ã™ã€‚
* **ã‚ˆãç·´ã‚‰ã‚ŒãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ** - ç§ãŸã¡ã¯CloudGoatã®ã‚·ãƒŠãƒªã‚ªãŒã€ç†è§£ã—ã‚„ã™ã„ã‚ˆã†ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹ã“ã¨ã¨ã€é›£ã—ã•ã‚„å†…å®¹ã€æ§‹æˆã€å¿…è¦ã¨ã•ã‚Œã‚‹ã‚¹ã‚­ãƒ«ãŒé©æ€§ã«ãªã‚‹ã‚ˆã†ã«ãƒ™ã‚¹ãƒˆã‚’å°½ãã—ã¦ã„ã¾ã™ã€‚
* **ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã‚„ã™ãã€ä½¿ã„ã‚„ã™ã„** - CloudGoatã¯ã‚¯ãƒ©ã‚¦ãƒ‰ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®ãƒšãƒãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆã®ãŸã‚ã®å­¦ç¿’ã¨ç·´ç¿’ã®æ©Ÿä¼šã‚’æä¾›ã—ã¾ã™ã€‚ãªã®ã§ã€ã‚·ãƒ³ãƒ—ãƒ«ã§ã‚ã‹ã‚Šã‚„ã™ãã€ä¿¡é ¼æ€§ãŒé«˜ã„ã‚‚ã®ã‚’ç›®æŒ‡ã—ã¦ã„ã¾ã™ã€‚
* **ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ–¹å¼** - å„ã‚·ãƒŠãƒªã‚ªã¯ä¸€ã¤ã‚‚ã—ãã¯è¤‡æ•°ã®æ˜ç¢ºãªã‚´ãƒ¼ãƒ«ãŒã‚ã‚Šã€ãã‚Œãã‚Œç‹¬ç«‹ã—ã¦ã„ã¾ã™ã€‚CloudGoatã§ã¯ãã‚Œãã‚Œã®ã‚·ãƒŠãƒªã‚ªã‚’å€‹åˆ¥ã«èµ·å‹•ã‚„ãƒªã‚»ãƒƒãƒˆã€ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³ãŒã§ãã¾ã™ã€‚
* **æ‹¡å¼µæ€§** - CloudGoatã®ã‚³ã‚¢ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ(pythonã‚¢ãƒ—ãƒªã¨ã‚·ãƒŠãƒªã‚ª)ã¯ç°¡å˜ã‹ã¤ç‹¬ç«‹ã—ã§ã„ã¦ã€ç§ãŸã¡ã‚‚ã—ãã¯ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãŒæ‹¡å¼µã§ãã‚‹ã‚ˆã†ã«è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚

å…ˆã«é€²ã‚€å‰ã«ã€ä¸‹ã®æ³¨æ„ã‚’ã‚ˆãèª­ã‚“ã§ãã ã•ã„ï¼

> **æ³¨æ„ #1:** CloudGoatã¯æ„å›³çš„ã«è„†å¼±ãªAWSãƒªã‚½ãƒ¼ã‚¹ã‚’ã‚ãªãŸã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ä½œæˆã—ã¾ã™ã€‚CloudGoatã‚’å•†ç”¨ç’°å¢ƒã‚„å¤§åˆ‡ãªAWSãƒªã‚½ãƒ¼ã‚¹ã¨ä¸€ç·’ã«ãƒ‡ãƒ—ãƒ­ã‚¤*ã—ãªã„ã§ãã ã•ã„*ã€‚ 

> **æ³¨æ„ #2:** CloudGoatã¯è‡ªèº«ãŒä½œæˆã—ãŸãƒªã‚½ãƒ¼ã‚¹ã®ã¿ã‚’ç®¡ç†ã—ã¾ã™ã€‚ã‚·ãƒŠãƒªã‚ªã®é€”ä¸­ã§ä½•ã‹ãƒªã‚½ãƒ¼ã‚¹ã‚’ã”è‡ªèº«ã§ä½œæˆã—ãŸå ´åˆã¯ã€`destroy`ã‚³ãƒãƒ³ãƒ‰ã®å‰ã«å‰Šé™¤ã—ã¦ãã ã•ã„ã€‚

## ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶

* Linuxã‚‚ã—ãã¯MacOSã€‚Windowsã¯å…¬å¼ã«ã¯ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚
  * å¼•æ•°ã®TABè£œå®Œã«ã¯bash 4.2ä»¥ä¸ŠãŒå¿…è¦ã§ã™ã€‚(Linuxã€OSXã¯å°‘ã—é›£ã—ã„)
* Python3.6ä»¥ä¸ŠãŒå¿…è¦ã§ã™ã€‚
* Terraform 0.12 [ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã€$PATHã«ã‚ã‚‹](https://learn.hashicorp.com/terraform/getting-started/install.html)å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
* The AWS CLI[ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã€$PATHã«ã‚ã‚‹](https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-install.html)ã“ã¨ã¨ã€ãƒªã‚½ãƒ¼ã‚¹ã®ä½œæˆã¨å‰Šé™¤æ¨©é™ã‚’æŒã£ãŸAWSã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒå¿…è¦ã§ã™ã€‚

## ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

CloudGoatã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã«ã¯ã€ã‚·ã‚¹ãƒ†ãƒ ãŒä¸Šã®è¦ä»¶ã‚’æº€ãŸã—ã¦ã„ã‚‹ã“ã¨ã‚’
ç¢ºèªã—ãŸä¸Šã§, æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„:

```
$ git clone git@github.com:RhinoSecurityLabs/cloudgoat.git ./CloudGoat
$ cd CloudGoat
$ pip3 install -r ./core/python/requirements.txt
$ chmod u+x cloudgoat.py
```
ã‚¯ã‚¤ãƒƒã‚¯ã‚³ãƒ³ãƒ•ã‚£ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€å¾Œã§æ™‚é–“ã®ç¯€ç´„ãŒã§ãã¾ã™:
```
$ ./cloudgoat.py config profile
$ ./cloudgoat.py config whitelist --auto
```
ã“ã‚Œã§ã€CloudGoatãŒã‚¯ãƒ©ã‚¦ãƒ‰ä¸Šã«ã‚·ãƒŠãƒªã‚ªã«åŸºã¥ã„ãŸã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’`create`ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ç’°å¢ƒãŒå‡ºæ¥æ¬¡ç¬¬ã€ãƒ™ãƒ¼ã‚¹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä¸‹ã«ã‚·ãƒŠãƒªã‚ªåã¨ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªIDã§æ§‹æˆã•ã‚Œã‚‹åå‰ã®ãƒ•ã‚©ãƒ«ãƒ€ãŒä½œæˆã•ã‚Œã¾ã™ã€‚ã“ã®ãƒ•ã‚©ãƒ«ãƒ€ã®ä¸­ã«ã‚ã‚‹`start.txt`ã¨ã„ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯ã€ã‚·ãƒŠãƒªã‚ªã‚’å§‹ã‚ã‚‹ãŸã‚ã®æƒ…å ±ãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ãŒã€åŒã˜ã‚‚ã®ã¯`create`ã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡ŒãŒå®Œäº†ã—ãŸæ™‚ã«ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«ã‚‚è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ã„ãã¤ã‹ã®å ´åˆã«ã¯`cloudgoat`/`cloudgoat.pub`ã¨ã„ã†åå‰ã®SSHã‚­ãƒ¼ãƒšã‚¢ã‚‚åŒæ™‚ã«ä½œæˆã•ã‚Œã¾ã™ã€‚

> **Note:** ã‚·ãƒŠãƒªã‚ªã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ•ã‚©ãƒ«ãƒ€ã‚„ä¸­ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã‚„å¤‰æ›´ã¯ã—ãªã„ã§ãã ã•ã„ã€‚CloudGoatãŒã‚·ãƒŠãƒªã‚ªã®ãƒªã‚½ãƒ¼ã‚¹ã‚’ç®¡ç†ã§ããªããªã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚

ã‚·ãƒŠãƒªã‚ªã‚’é€²ã‚ã‚‹ã«ã‚ãŸã£ã¦ã‚¬ã‚¤ãƒ‰ãŒå¿…è¦ãªã¨ãã¯ã€ã‚·ãƒŠãƒªã‚ªã®readmeã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚è¡Œãè©°ã¾ã£ãŸæ™‚ã¯ã‚¬ã‚¤ãƒ‰ã®æœ€ä¸‹éƒ¨ã«ãƒãƒ¼ãƒˆã‚·ãƒ¼ãƒˆã¸ã®ãƒªãƒ³ã‚¯ãŒã‚ã‚Šã¾ã™ã€‚

ã‚·ãƒŠãƒªã‚ªãŒå®Œäº†ã—ãŸã‚‰ã€è‡ªåˆ†è‡ªèº«ã§ä½œæˆã—ãŸãƒªã‚½ãƒ¼ã‚¹ã‚’å…¨ã¦å‰Šé™¤(CloudGoatã¯CloudGoatãŒä½œæˆã—ãŸãƒªã‚½ãƒ¼ã‚¹ã—ã‹ç®¡ç†ã§ãã¾ã›ã‚“)ã—ã¦ã‹ã‚‰ã€`destroy`ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚å‰Šé™¤å¿˜ã‚ŒãŒãªã„ã‚ˆã†ã«ã€ã„ã¤ã§ã‚‚AWS webã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§äº‹å¾Œç¢ºèªã‚’ã™ã‚‹ã®ãŒè‰¯ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚

CloudGoatã®ã‚³ãƒãƒ³ãƒ‰é–¢é€£ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã¯[Usage Guideã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ã“ã“](#usage-guide)ã«ã‚ã‚Šã¾ã™ã€‚

## CloudGoatã®Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã®ä½¿ã„æ–¹

[![Try in PWD](https://github.com/play-with-docker/stacks/raw/cff22438cb4195ace27f9b15784bbb497047afa7/assets/images/button.png)](http://play-with-docker.com?stack=https://raw.githubusercontent.com/RhinoSecurityLabs/cloudgoat/master/docker_stack.yml)

### ã‚ªãƒ—ã‚·ãƒ§ãƒ³ 1: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆã§å®Ÿè¡Œ
```console
$ docker run -it rhinosecuritylabs/cloudgoat:latest
```

### ã‚ªãƒ—ã‚·ãƒ§ãƒ³ 2: AWS configã¨ã‚¯ãƒ¬ãƒ‡ãƒ³ã‚·ãƒ£ãƒ«ã§å®Ÿè¡Œ

> æ³¨æ„: ã“ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãƒ­ãƒ¼ã‚«ãƒ«ã®AWSè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’Dockerã‚³ãƒ³ãƒ†ãƒŠã«ãƒã‚¦ãƒ³ãƒˆã—ã¾ã™ã€‚ã“ã‚Œã¯ã‚³ãƒ³ãƒ†ãƒŠã¸ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¨ã¦ãŒã‚ãªãŸãŒãƒ›ã‚¹ãƒˆã—ã¦ã„ã‚‹ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ä¸Šã®AWSã‚¯ãƒ¬ãƒ‡ãƒ³ã‚·ãƒ£ãƒ«ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¦ã„ã¾ã™ã€‚

```console
$ docker run -it -v ~/.aws:/root/.aws/ rhinosecuritylabs/cloudgoat:latest
```

## åˆ©ç”¨å¯èƒ½ãªã‚·ãƒŠãƒªã‚ª

### iam_privesc_by_rollback (Small / Easy)

`$ ./cloudgoat.py create iam_privesc_by_rollback`

ã‚¢ã‚¿ãƒƒã‚«ãƒ¼ã¯å³ã—ãåˆ¶é™ã•ã‚ŒãŸIAMãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ä½¿ã„ã€ä»¥å‰ã®IAMãƒãƒªã‚·ãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèªã€ãã—ã¦ãƒ•ãƒ«ç®¡ç†è€…æ¨©é™ã‚’ãƒªã‚¹ãƒˆã‚¢ã™ã‚‹ã“ã¨ã§ã€ç‰¹æ¨©ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒå¯èƒ½ã§ã™ã€‚

[ã‚·ãƒŠãƒªã‚ªãƒšãƒ¼ã‚¸ã¯ã“ã¡ã‚‰](scenarios/iam_privesc_by_rollback/README.md)

### cloud_breach_s3 (Small / Moderate)

`$ ./cloudgoat.py create cloud_breach_s3`

ã‚¢ã‚¯ã‚»ã‚¹ã‚‚æ¨©é™ã‚‚ãªã„çŠ¶æ…‹ã‹ã‚‰ã€é–“é•ã£ã¦è¨­å®šã•ã‚ŒãŸãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚·ã‚’ä½¿ã£ã¦EC2ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚µãƒ¼ãƒ“ã‚¹ã«ã‚¯ã‚¨ãƒªã‚’æŠ•ã’ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚­ãƒ¼ã‚’å–å¾—ã—ã¾ã™ã€‚ãã—ã¦ã€ã“ã®ã‚­ãƒ¼ã‚’ä½¿ã£ã¦S3ãƒã‚±ãƒƒãƒˆã®ç™ºè¦‹ã€ã‚¢ã‚¯ã‚»ã‚¹ã€ãã—ã¦æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¾ã™ã€‚

[ã‚·ãƒŠãƒªã‚ªãƒšãƒ¼ã‚¸ã¯ã“ã¡ã‚‰](scenarios/cloud_breach_s3/README.md)

### iam_privesc_by_attachment (Medium / Moderate)

`$ ./cloudgoat.py create iam_privesc_by_attachment`

ã‚¢ã‚¿ãƒƒã‚«ãƒ¼ã«ã¯ã”ãé™ã‚‰ã‚ŒãŸæ¨©é™ãŒä¸ãˆã‚‰ã‚Œã¾ã™ãŒã€instance-profile-attachmentæ¨©é™ã‚’ä½¿ã„ã€è‡ªèº«ã®æ¨©é™ä»¥ä¸Šã®æ¨©é™ã‚’æŒã¤EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚ã“ã®EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ã§ã‚¢ã‚¿ãƒƒã‚«ãƒ¼ã¯ã“ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ä¸­ã§ã®ãƒ•ãƒ«ç®¡ç†è€…æ¨©é™ã‚’æŒã¤ã“ã¨ã«ãªã‚Šã€ã“ã®ã‚·ãƒŠãƒªã‚ªã®ã‚´ãƒ¼ãƒ«ã§ã‚ã‚‹ã€cg-super-critical-security-serverã®å‰Šé™¤ã¨ã•ã‚‰ãªã‚‹æ”»æ’ƒãŒå¯èƒ½ã¨ãªã‚Šã¾ã™ã€‚

> **Note:** ã“ã®ã‚·ãƒŠãƒªã‚ªã§ã¯è‡ªèº«ã§AWSãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œã‚‹ã“ã¨ãŒæƒ³å®šã•ã‚Œã¾ã™ãŒã€CloudGoatã¯CloudGoatè‡ªèº«ãŒã•ãã›ã—ãŸãƒªã‚½ãƒ¼ã‚¹ã®ã¿ãŒç®¡ç†å¯¾è±¡ã¨ãªã‚‹ãŸã‚ã€`./cloudgoat destroy`ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹å‰ã«è‡ªèº«ã®ãƒªã‚½ãƒ¼ã‚¹ã¯å‰Šé™¤ã—ã¦ãã ã•ã„ã€‚

[ã‚·ãƒŠãƒªã‚ªãƒšãƒ¼ã‚¸ã¯ã“ã¡ã‚‰](scenarios/iam_privesc_by_attachment/README.md)

### ec2_ssrf (Medium / Moderate)

`$ ./cloudgoat.py create ec2_ssrf`

ã‚¢ã‚¿ãƒƒã‚«ãƒ¼ã¯IAMãƒ¦ãƒ¼ã‚¶ãƒ¼ã®Solusã¨ãªã‚Šã€Lambdaã«ReadOnlyæ¨©é™ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã“ã¨ã‚’è¦‹ã¤ã‘ã€ãã“ã«ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã•ã‚ŒãŸã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’å…ƒã«è¦‹ã¤ã‘ãŸEC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒã€ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ•ã‚©ãƒ¼ã‚¸ã‚§ãƒª(SSRF)ã«è„†å¼±æ€§ãŒã‚ã‚‹webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã“ã¨ã‚’ç™ºè¦‹ã—ã¾ã™ã€‚è„†å¼±æ€§ã‚’ã¤ãã€EC2ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚µãƒ¼ãƒ“ã‚¹ã‹ã‚‰ã‚­ãƒ¼ã‚’å…¥æ‰‹ã—ãŸã‚‰ã€ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãªS3ãƒã‚±ãƒƒãƒˆã¸ã‚¢ã‚¯ã‚»ã‚¹ã‚’ã—ã¦ã€Lambdaã‚’å®Ÿè¡Œã™ã‚‹ãŸã‚ã®ã‚­ãƒ¼ã‚’æ‰‹ã«å…¥ã‚Œã‚·ãƒŠãƒªã‚ªå®Œäº†ã‚’ç›®æŒ‡ã—ã¾ã™ã€‚

[ã‚·ãƒŠãƒªã‚ªãƒšãƒ¼ã‚¸ã¯ã“ã¡ã‚‰](scenarios/ec2_ssrf/README.md)

### rce_web_app (Medium / Hard)

`$ ./cloudgoat.py create rce_web_app`

ã‚¢ã‚¿ãƒƒã‚«ãƒ¼ã¯IAMãƒ¦ãƒ¼ã‚¶ãƒ¼ã®Laraã¨ãªã‚Šã€è„†å¼±æ€§ã‚’æ¢ã™ãŸã‚ã«ãƒ­ãƒ¼ãƒ‰ãƒãƒ©ãƒ³ã‚µãƒ¼ã¨S3ãƒã‚±ãƒƒãƒˆã‚’èª¿æŸ»ã—ã€webã‚¢ãƒ—ãƒªã«RCEã®è„†å¼±æ€§ãŒã‚ã‚‹ã“ã¨ã‚’ç™ºè¦‹ã—ã€æ©Ÿå¯†æƒ…å ±ã®å–å¾—ãŠã‚ˆã³ã‚·ãƒŠãƒªã‚ªã®ç›®çš„ã§ã‚ã‚‹ã‚»ã‚­ãƒ¥ã‚¢ãªRDSãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¸ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚

ã‚‚ã—ãã¯ã€ã‚¢ã‚¿ãƒƒã‚«ãƒ¼ã¯IAMãƒ¦ãƒ¼ã‚¶ãƒ¼ã®McDuckã¨ãªã‚Šã€S3ãƒã‚±ãƒƒãƒˆã‚’èª¿æŸ»ã—ã€EC2ã‚µãƒ¼ãƒã¸ã®ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ãŒã§ãã‚‹SSHã‚­ãƒ¼ã‚’æ‰‹ã«å…¥ã‚Œã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¸ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚

[ã‚·ãƒŠãƒªã‚ªãƒšãƒ¼ã‚¸ã¯ã“ã¡ã‚‰](scenarios/rce_web_app/README.md)

### codebuild_secrets (Large / Hard)

`$ ./cloudgoat.py create codebuild_secrets`

ã‚¢ã‚¿ãƒƒã‚«ãƒ¼ã¯IAMãƒ¦ãƒ¼ã‚¶ãƒ¼ã®Soloã¨ãªã‚Šã€CodeBuildãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æ¢ç´¢ã—ã€IAMãƒ¦ãƒ¼ã‚¶ãƒ¼ã®Calrissianã®IAMã‚­ãƒ¼ãŒä¿è­·ã•ã‚Œã¦ã„ãªã„ã“ã¨ã‚’è¦‹ã¤ã‘ã¾ã™ã€‚Calrissianã«ãªã‚Šã™ã¾ã—ã€RDSãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’è¦‹ã¤ã‘ã¾ã™ã€‚ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®å†…å®¹ã«ç›´æ¥ã¯ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã›ã‚“ãŒã€RDSã®ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆæ©Ÿèƒ½ã‚’ä½¿ã†ã“ã¨ã§ã‚·ãƒŠãƒªã‚ªã®ç›®çš„ã§ã‚ã‚‹ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆæ–‡å­—åˆ—ã‚’æ‰‹ã«å…¥ã‚Œã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ã‚‚ã—ãã¯ã€SSMãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’èª¿æŸ»ã™ã‚‹ã“ã¨ã§EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¸ã®SSHã‚­ãƒ¼ã‚’æ‰‹ã«å…¥ã‚Œã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚µãƒ¼ãƒ“ã‚¹ã‚’ä½¿ã„ã€EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚­ãƒ¼ã‚’æ‰‹ã«å…¥ã‚Œã€ã‚ˆã‚Šæ·±ãå…¥ã‚Šè¾¼ã¿ã€å…ƒã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¸ã‚¢ã‚¯ã‚»ã‚¹ã‚’ã—ã‚·ãƒŠãƒªã‚ªã®ç›®çš„ã§ã‚ã‚‹ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆæ–‡å­—åˆ—ã‚’æ‰‹ã«å…¥ã‚Œã¾ã™ã€‚

> **Note:** ã“ã®ã‚·ãƒŠãƒªã‚ªã§ã¯è‡ªèº«ã§AWSãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œã‚‹ã“ã¨ãŒæƒ³å®šã•ã‚Œã¾ã™ãŒã€CloudGoatã¯CloudGoatè‡ªèº«ãŒã•ãã›ã—ãŸãƒªã‚½ãƒ¼ã‚¹ã®ã¿ãŒç®¡ç†å¯¾è±¡ã¨ãªã‚‹ãŸã‚ã€`./cloudgoat destroy`ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹å‰ã«è‡ªèº«ã®ãƒªã‚½ãƒ¼ã‚¹ã¯å‰Šé™¤ã—ã¦ãã ã•ã„ã€‚

[ã‚·ãƒŠãƒªã‚ªãƒšãƒ¼ã‚¸ã¯ã“ã¡ã‚‰](scenarios/codebuild_secrets/README.md)

## ä½¿ã„æ–¹

åŸºæœ¬çš„ãªCloudGoatã‚³ãƒãƒ³ãƒ‰ã®ä½¿ã„æ–¹ã¯æ¬¡ã®é€šã‚Šã§ã™:

> `$ ./cloudgoat.py [ command ] [ sub-command ] [ --arg-name ] [ arg-value ]`

CloudGoatã§ä½¿ã‚ã‚Œã‚‹5ã¤ã®ä¸»è¦ãªã‚³ãƒãƒ³ãƒ‰ã¯æ¬¡ã®ã‚ˆã†ã«ã¾ã¨ã‚ã‚‰ã‚Œã¾ã™:

### create

`create [ scenario-name ]` ã‚ãªãŸãŒé¸æŠã—ãŸAWSã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ã‚·ãƒŠãƒªã‚ªã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚æ—¢å­˜ã®ã‚·ãƒŠãƒªã‚ªã«å¯¾ã—ã¦`create`ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚·ãƒŠãƒªã‚ªã‚’å‰Šé™¤ã—ãŸå¾Œã§å†ä½œæˆã—ã¾ã™ã€‚

> **Tip:** åå‰ã§`/scenarios`ã‚’ä½¿ã†ã¨ã€bashãŒãƒã‚¤ãƒ†ã‚£ãƒ–ã§ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã‚‹TABè£œå®ŒãŒä½¿ãˆã¾ã™ã€‚

å®‰å…¨æ€§ã®è¦³ç‚¹ã‹ã‚‰`--profile`ã¯å¿…é ˆã§ã™ã€‚CloudGoatã®ã‚·ãƒŠãƒªã‚ªãŒèª¤ã£ã¦å•†ç”¨ç’°å¢ƒã«æ§‹ç¯‰ã•ã‚Œãªã„ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã§ã™ã€‚ã¾ãŸã€CloudGoatã¯ã‚·ã‚¹ãƒ†ãƒ ã®"default"ãŠã‚ˆã³ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«æŒ‡å®šã•ã‚ŒãŸAWS CLIãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã¯ä½¿ç”¨ã—ã¾ã›ã‚“ã€‚ ã—ã‹ã—ã€`config profile`ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€æ¯å›ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã‚’é˜²ãã“ã¨ãŒã§ãã¾ã™ã€‚

### list

`list`ã¯ã€`all`ã‚„`undeployed`ã€ã‚‚ã—ãã¯`deployed`ã‚·ãƒŠãƒªã‚ªã®æƒ…å ±ã‚’è¡¨ç¤ºã—ãŸã‚Š
ã™ã§ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚ŒãŸ`[ scenario-name ]`ã®è©³ç´°ãªæƒ…å ±ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚

### destroy

`destroy`ã¯`[ scenario-name ]`ã®ã‚¯ãƒ©ã‚¦ãƒ‰ãƒªã‚½ãƒ¼ã‚¹ã‚’ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³ã—ã¦å‰Šé™¤ã—ã€å¿…è¦ãªæ™‚ã«Terraformã®stateãƒ•ã‚¡ã‚¤ãƒ«ã‚„ä»–ã®ã‚·ãƒŠãƒªã‚ªãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‚ç…§ã§ãã‚‹ã‚ˆã†ã«ã€ã‚·ãƒŠãƒªã‚ªã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ãƒ•ã‚©ãƒ«ãƒ€ã‚’`./trash`ã«ç§»å‹•ã•ã›ã¾ã™ã€‚ã‚·ãƒŠãƒªã‚ªã®åå‰ã§ã¯ãªãã€`all`ã‚’æŒ‡å®šã™ã‚‹ã¨ã€å…¨ã¦ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªã‚·ãƒŠãƒªã‚ªã‚’å‰Šé™¤ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

> **Tip:** CloudGoatã¯è‡ªèº«ãŒä½œæˆã—ãŸãƒªã‚½ãƒ¼ã‚¹ã®ã¿ã‚’ç®¡ç†ã—ã¾ã™ã€‚ã‚·ãƒŠãƒªã‚ªã®é€”ä¸­ã§ä½•ã‹ãƒªã‚½ãƒ¼ã‚¹ã‚’ã”è‡ªèº«ã§ä½œæˆã—ãŸå ´åˆã¯ã€`destroy`ã‚³ãƒãƒ³ãƒ‰ã®å‰ã«å‰Šé™¤ã—ã¦ãã ã•ã„ã€‚

### config

`config`ã¯CloudGoatã®æ§˜ã€…ãªç®¡ç†ã«ä½¿ç”¨ã§ãã€ç‰¹ã«IP `whitelist`ã‚„
ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®AWS `profile`ã€`argcomplete`ã«ã‚ˆã‚‹TABè£œå®Œãªã©ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã‚‰ã®ã‚µãƒ–ã‚³ãƒãƒ³ãƒ‰ã®èª¬æ˜ã‚’ã—ã¾ã™ã€‚

#### whitelist

CloudGoatã¯è„†å¼±æ€§ã®ã‚ã‚‹ãƒªã‚½ãƒ¼ã‚¹ã‚’ã‚¯ãƒ©ã‚¦ãƒ‰ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã«ã‚ãŸã£ã¦ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆã«å…¥ã‚Œã‚‹IPã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’çŸ¥ã£ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã€ã“ã‚Œã‚‰ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®`./whitelist.txt`ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜ã•ã‚Œã¦ã„ã¾ã™ã€‚æŒ‡å®šã™ã‚‹IPã‚¢ãƒ‰ãƒ¬ã‚¹ã¯å¿…ãšã—ã‚‚CIDRå½¢å¼ã§ã‚ã‚‹ _å¿…è¦_ ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€IPã‚¢ãƒ‰ãƒ¬ã‚¹ã®ã¿ãŒæŒ‡å®šã•ã‚ŒãŸå ´åˆã¯CloudGoatãŒ`/32`ã‚’ä»˜ã‘åŠ ãˆã¾ã™ã€‚ã‚‚ã—ãã¯ã€å¼•æ•°ã§`--auto`ã‚’ã¤ã‘ã‚‹ã“ã¨ã«ã‚ˆã‚Šã€CloudGoatãŒè‡ªå‹•çš„ã«ã¸curlãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã¦IPã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’åˆ¤åˆ¥ã—ã€ãƒ›ãƒ¯ã‚¤ãƒˆãƒªã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚

#### profile

CloudGoatã¯ã‚·ã‚¹ãƒ†ãƒ ä¸Šã®"default"ã®AWS CLIãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ã€ç’°å¢ƒå¤‰æ•°ã§ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã«æŒ‡å®šã•ã‚Œã¦ã„ã‚‹ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ä½¿ç”¨ã™ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€`config profile`ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ä»»æ„ã®AWSãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’CloudGoatãŒä½¿ã†ã‚ˆã†ã«è¨­å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã‚Œã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ç¢ºèªå¾Œã«ãƒ™ãƒ¼ã‚¹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«`config.yml`ã¨ã„ã†åå‰ã®ãƒ•ã‚¡ã‚¤ãƒ«ã§ä¿å­˜ã—ã¾ã™ã€‚ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹é™ã‚Šã€CloudGoatã¯ãƒ•ã‚¡ã‚¤ãƒ«å†…ã§æŒ‡å®šã•ã‚ŒãŸãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ã„ã€ createã‚„destroyã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã€éƒ½åº¦`--profile`ãƒ•ãƒ©ã‚°ã‚’ä½¿ã†å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚`config profile`ã¯CloudGoatã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèªã—ãŸã‚Šã€`config.yml`ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’ç¢ºèªã™ã‚‹ãŸã‚ã«ã„ã¤ã§ã‚‚ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ã€‚ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒæ­£ã—ã„é™ã‚Šã€`config.yml`ã‚’ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã§ä½œæˆã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚

#### argcomplete

CloudGoatå†…ã§ãƒã‚¤ãƒ†ã‚£ãƒ–ãªTABè£œå®ŒãŒã§ãã‚Œã°ã¨ã¦ã‚‚ã„ã„ã®ã§ã™ãŒã€REPLå¤–ã§ã‚„ã‚‹ã®ã¯å›°é›£ãªã“ã¨ãŒåˆ¤æ˜ã—ã¾ã—ãŸã€‚Linuxãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ã‚ã‚Œã°ã»ã¼å•é¡Œãªãå‹•ãã¯ãšã§ã™ãŒã€OSXãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯è‡ªèº«ã§bashãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’4.2ä»¥ä¸Šã«ã‚ã’ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚CloudGoatã«ã¯[pythonãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®"argcomplete"](https://github.com/kislyuk/argcomplete)ãŒå«ã¾ã‚Œã¦ã„ã¦ã€ã‚µãƒãƒ¼ãƒˆã‚‚ã—ã¦ã„ã¾ã™ã€‚argcompleteã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•ã®è¦ç´„ã¯ä¸‹ã«ã¾ã¨ã‚ã¦ã„ã¾ã™ãŒã€è©³ç´°ã«ã¤ã„ã¦ã¯å…¬å¼ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®[github page](https://github.com/kislyuk/argcomplete)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

1. CloudGoatã®requirements.txtãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ã„ã€ pythonã®argcompleteãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹: `$ pip3 install -r core/python/requirements.txt`
2. bashã§ã€argcompleteãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒæä¾›ã—ã¦ã„ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã™ã‚‹: `$ activate-global-python-argcomplete`
3. å‰ã®ã‚³ãƒãƒ³ãƒ‰æ…ˆå…‰å¯ºã«è¡¨ç¤ºã•ã‚ŒãŸã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å ´æ‰€ã‚’sourceã™ã‚‹ã‹shellã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚’å†èµ·å‹•ã™ã‚‹: `$ source [ /path/to/the/completion/script ]`

ã†ã¾ãã„ã‹ãªã„å ´åˆã‚„ã€argcompleteã‚’ä½¿ã„ãŸããªã„å ´åˆã¯ã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ‘ã‚¹ã‚’ã‚·ãƒŠãƒªã‚ªåã¨ã—ã¦ä½¿ã†ã“ã¨ã‚‚ã§ãã¾ã™ã€‚ãã®å ´åˆã¯ã€ã‚·ãƒŠãƒªã‚ªåã«TABè£œå®ŒãŒä½¿ç”¨ã§ãã¾ã™ã€‚`/scenario/[ scenario-name ]`ã¾ãŸã¯`./[ scenarioinstance-name ]`ã®å ´åˆã§ã‚ã‚Œã°ã€shellãŒæ®‹ã‚Šã‚’è£œå®Œã—ã¦ãã‚Œã‚‹ã¯ãšã§ã™ã€‚

### help

`help` provides contextual help about commands. `help` can come before or after the command in question, so it's always there when you need it. Below are some examples:

* `$ ./cloudgoat.py create help`
* `$ ./cloudgoat.py destroy help`
* `$ ./cloudgoat.py list help`
* `$ ./cloudgoat.py config help`

One other use of note: `$ ./cloudgoat.py [ scenario-name ] help` can be used to print to the console a brief summary of the scenario, as defined by the scenario's author.

## Feature Requests and Bug Reports

If you have a feature request or a bug to report, please [submit them here](https://github.com/RhinoSecurityLabs/cloudgoat/issues/new).

For bugs, please make sure to include a description sufficient to reproduce the bug you found, including tracebacks and reproduction steps, and check for other reports of your bug before filing a new bug report.

For features, much the same applies! Be specific in your request, and make sure someone else hasn't already requested the same feature.

## Contribution Guidelines

Contributions to CloudGoat are greatly appreciated. If you'd like to help make the project better, read on.

1. Python code in CloudGoat should generally follow Python's style conventions, favoring readability and maintainability above all.
2. Follow good git practices: use pull requests, prefer feature branches, always write clear commit messages.
3. CloudGoat uses `black` and `flake8` - Python syntax and style linters - If you're going to commit code for CloudGoat, ensure that first `flake8`, and then `black` are both run on all Python files in `core/python/` and on `cloudgoat.py`. `black`'s decisions take priority over `flake8`'s. Both of these are commented out in the `core/python/requirements.txt` file since normal users don't need them.
4. CloudGoat code should always use the BSD 3-clause license.

And lastly, thank you for contributing!

## Changelog

- **6/24/19:** CloudGoat 2.0 is released!

## Disclaimer

CloudGoat is software that comes with absolutely no warranties whatsoever. By using CloudGoat, you take full responsibility for any and all outcomes that result.
